<template>
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0,210.74609375,512.00390625,90.5078125"
    class="app-stars"
  >
    <defs>
      <linearGradient id="halfStar">
        <stop offset="50%" stop-color="var(--star-color-full)" />
        <stop offset="50%" stop-color="var(--star-color-empty)" />
      </linearGradient>
    </defs>
    <path
      :class="getClasses[0]"
      d="M94.526 244.611a6.523 6.523 0 00-5.267-4.432l-24.899-3.618-11.126-22.481c-2.203-4.445-9.484-4.445-11.687 0l-11.126 22.481-24.84 3.618a6.53 6.53 0 00-5.26 4.439 6.5 6.5 0 001.649 6.674l18.016 17.56-4.25 24.775a6.536 6.536 0 002.594 6.381 6.541 6.541 0 006.87.489l22.188-11.7 22.253 11.7c.952.502 1.995.75 3.031.75a6.624 6.624 0 003.839-1.238 6.54 6.54 0 002.594-6.381l-4.243-24.775 18.016-17.56a6.506 6.506 0 001.648-6.682z"
    />
    <path
      :class="getClasses[1]"
      d="M198.815 244.611a6.523 6.523 0 00-5.267-4.432l-24.899-3.618-11.126-22.481c-2.203-4.445-9.484-4.445-11.687 0l-11.126 22.481-24.84 3.618a6.53 6.53 0 00-5.26 4.439 6.5 6.5 0 001.649 6.674l18.016 17.56-4.25 24.775a6.53 6.53 0 002.594 6.381 6.54 6.54 0 006.87.489l22.188-11.7 22.253 11.7c.952.502 1.995.75 3.031.75a6.624 6.624 0 003.839-1.238 6.54 6.54 0 002.594-6.381l-4.243-24.775 18.016-17.56a6.506 6.506 0 001.648-6.682z"
    />
    <path
      :class="getClasses[2]"
      d="M303.104 244.611a6.523 6.523 0 00-5.267-4.432l-24.899-3.618-11.126-22.481c-2.203-4.445-9.484-4.445-11.687 0l-11.126 22.481-24.84 3.618a6.53 6.53 0 00-5.26 4.439 6.5 6.5 0 001.649 6.674l18.016 17.56-4.25 24.775a6.536 6.536 0 002.594 6.381 6.541 6.541 0 006.87.489l22.187-11.7 22.253 11.7c.952.502 1.995.75 3.031.75a6.624 6.624 0 003.839-1.238 6.54 6.54 0 002.594-6.381l-4.243-24.775 18.016-17.56a6.505 6.505 0 001.649-6.682z"
    />
    <path
      :class="getClasses[3]"
      d="M407.393 244.611a6.523 6.523 0 00-5.267-4.432l-24.899-3.618-11.126-22.481c-2.203-4.445-9.484-4.445-11.687 0l-11.126 22.481-24.84 3.618a6.53 6.53 0 00-5.26 4.439 6.5 6.5 0 001.649 6.674l18.016 17.56-4.25 24.775a6.536 6.536 0 002.594 6.381 6.541 6.541 0 006.87.489l22.187-11.7 22.253 11.7c.952.502 1.995.75 3.031.75a6.624 6.624 0 003.839-1.238 6.54 6.54 0 002.594-6.381l-4.243-24.775 18.016-17.56a6.507 6.507 0 001.649-6.682z"
    />
    <path
      :class="getClasses[4]"
      d="M511.682 244.611a6.532 6.532 0 00-5.267-4.432l-24.899-3.618-11.126-22.481c-2.203-4.445-9.484-4.445-11.687 0l-11.126 22.481-24.84 3.618a6.53 6.53 0 00-5.26 4.439 6.5 6.5 0 001.649 6.674l18.016 17.56-4.25 24.775a6.536 6.536 0 002.594 6.381 6.52 6.52 0 003.826 1.238 6.589 6.589 0 003.05-.75l22.188-11.7 22.259 11.7a6.477 6.477 0 006.864-.495 6.533 6.533 0 002.588-6.375l-4.243-24.775 18.016-17.56a6.516 6.516 0 001.648-6.68z"
    />
  </svg>
</template>

<script>
export default {
  props: {
    rating: {
      type: Number,
      default: 0
    }
  },
  computed: {
    getClasses() {
      const roundedRatingBase = Math.round(this.rating * 2) / 2
      let roundedRatring = roundedRatingBase
      const classArr = []
      for (let i = 0; i < Math.floor(roundedRatingBase); i++) {
        classArr.push('fullStar')
        roundedRatring = --roundedRatring
      }
      if (roundedRatring === 0.5) classArr.push('halfStar')
      const arrLenght = classArr.length
      if (arrLenght < 5) {
        for (let i = 0; i < 5 - arrLenght; i++) {
          classArr.push('emptyStar')
        }
      }
      return classArr
    }
  }
}
</script>

<style lang="scss">
.app-stars {
  height: 1rem;
}
.halfStar {
  fill: url(#halfStar) #fff;
}
.fullStar {
  fill: var(--star-color-full);
}
.emptyStar {
  fill: var(--star-color-empty);
}
</style>
